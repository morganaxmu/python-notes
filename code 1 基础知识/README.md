## 1.变量
### 变量和类型
- 整型（int）：Python中可以处理任意大小的整数，而且支持二进制（如`0b100`，换算成十进制是4）、八进制（如`0o100`，换算成十进制是64）、十进制（`100`）和十六进制（`0x100`，换算成十进制是256）的表示法。
- 浮点型（float）：浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的，浮点数除了数学写法（如`123.456`）之外还支持科学计数法（如`1.23456e2`）。
- 字符串型（str）：字符串是以单引号或双引号括起来的任意文本，比如`'hello'`和`"hello"`。
- 布尔型（bool）：布尔值只有`True`、`False`两种值，要么是`True`，要么是`False`。

可以使用type()检查变量的类型

不同类型的变量可以相互转换，函数如下。

- `int()`：将一个数值或字符串转换成整数，可以指定进制。
- `float()`：将一个字符串转换成浮点数。
- `str()`：将指定的对象转换成字符串形式，可以指定编码。
- `chr()`：将整数转换成该编码对应的字符串（一个字符）。
- `ord()`：将字符串（一个字符）转换成对应的编码（整数）。

## 2.运算符
| 运算符                                                       | 描述                           |
| ------------------------------------------------------------ | ------------------------------ |
| `[]` `[:]`                                                   | 下标，切片                     |
| `**`                                                         | 指数                           |
| `~` `+` `-`                                                  | 按位取反, 正负号               |
| `*` `/` `%` `//`                                             | 乘，除，模，整除               |
| `+` `-`                                                      | 加，减                         |
| `>>` `<<`                                                    | 右移，左移                     |
| `&`                                                          | 按位与                         |
| `^` `\|`                                                      | 按位异或，按位或               |
| `<=` `<` `>` `>=`                                            | 小于等于，小于，大于，大于等于 |
| `==` `!=`                                                    | 等于，不等于                   |
| `is`  `is not`                                               | 身份运算符                     |
| `in` `not in`                                                | 成员运算符                     |
| `not` `or` `and`                                             | 逻辑运算符                     |
| `=` `+=` `-=` `*=` `/=` `%=` `//=` `**=` `&=` `|=` `^=` `>>=` `<<=` | （复合）赋值运算符，相当于两个拼在一起             |

### 比较运算符

包括`==`、`!=`、`<`、`>`、`<=`、`>=`，相等用的是`==`，`=`是赋值。比较运算符会产生布尔值，要么是`True`要么是`False`。

### 逻辑运算符
`and`运算符会连接两个布尔值，如果两个布尔值都是`True`，那么运算的结果就是`True`；左右两边的布尔值有一个是`False`，最终的运算结果就是`False`。在做运算的时候，如果左边为False，则右边的值会被跳过（短路处理），即右边的表达式根本不会执行。`or`运算符也会连接两个布尔值，如果两个布尔值有任意一个是`True`，那么最终的结果就是`True`。`or`运算符也是有短路功能的。`not`运算符的后面会跟上一个布尔值，它的作用是得到与该布尔值相反的值，即`not`后面的布尔值如果是`True`，运算结果就是`False`。

### 运算符小结
```
+	加 - 两个对象相加	a + b 输出结果 30
-	减 - 得到负数或是一个数减去另一个数	a - b 输出结果 -10
*	乘 - 两个数相乘或是返回一个被重复若干次的字符串	a * b 输出结果 200
/	除 - x除以y	b / a 输出结果 2
%	取模 - 返回除法的余数	b % a 输出结果 0
**	幂 - 返回x的y次幂	a**b 为10的20次方， 输出结果 100000000000000000000
//	取整除 - 返回商的整数部分（向下取整）	 9//2=4
==	等于 - 比较对象是否相等	(a == b) 返回 False。
!=	不等于 - 比较两个对象是否不相等	(a != b) 返回 true.
<>	不等于 - 比较两个对象是否不相等。python3 已废弃。	(a <> b) 返回 true。这个运算符类似 != 。
>	大于 - 返回x是否大于y	(a > b) 返回 False。
<	小于 - 返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。	(a < b) 返回 true。
>=	大于等于 - 返回x是否大于等于y。	(a >= b) 返回 False。
<=	小于等于 - 返回x是否小于等于y。	(a <= b) 返回 true。
=	简单的赋值运算符	c = a + b 将 a + b 的运算结果赋值为 c
+=	加法赋值运算符	c += a 等效于 c = c + a
-=	减法赋值运算符	c -= a 等效于 c = c - a
*=	乘法赋值运算符	c *= a 等效于 c = c * a
/=	除法赋值运算符	c /= a 等效于 c = c / a
%=	取模赋值运算符	c %= a 等效于 c = c % a
**=	幂赋值运算符	c **= a 等效于 c = c ** a
//=	取整除赋值运算符	c //= a 等效于 c = c // a
```

### 占位符
使用占位符可以达到字符串格式化：如
```
f'{ball:0>2d}'
```
使ball参数会自动替换到前面来。{0:2}表示至少占两个位，可以简写为{2}，其他常用的有%f浮点数、%d整数、%s字符串、%x十六进制整数。其中2d表示2位整数，0>表示一位数补0。其他用法，如：
```
print('%.1f华氏度 = %.1f摄氏度' % (f, c))
print(f'{f:.1f}华氏度 = {c:.1f}摄氏度')
```
{f:.1f}和{c:.1f}可以先看成是{f}和{c}，表示输出时会用变量f和变量c的值替换掉这两个占位符，后面的:.1f表示这是一个浮点数，小数点后保留1位有效数字。

### format格式化输出
```python
"{} {}".format("hello", "world")    # 不设置指定位置，按默认顺序
>>>'hello world'
 
 "{0} {1}".format("hello", "world")  # 设置指定位置
>>>'hello world'
 
"{1} {0} {1}".format("hello", "world")  # 设置指定位置
>>>'world hello world'

print("网站名：{name}, 地址 {url}".format(name="菜鸟教程", url="www.runoob.com"))
>>>网站名：菜鸟教程, 地址 www.runoob.com
 
# 通过字典设置参数
site = {"name": "菜鸟教程", "url": "www.runoob.com"}
print("网站名：{name}, 地址 {url}".format(**site))
>>>网站名：菜鸟教程, 地址 www.runoob.com
 
# 通过列表索引设置参数
my_list = ['菜鸟教程', 'www.runoob.com']
print("网站名：{0[0]}, 地址 {0[1]}".format(my_list))  # "0" 是必须的
>>>网站名：菜鸟教程, 地址 www.runoob.com
```
如果使用.format()来输出的话，也会用到大括号和一些表示，但是用法和占位符不一样。^, <, > 分别是居中、左对齐、右对齐，后面带宽度， : 号后面带填充的字符，只能是一个字符，不指定则默认是用空格填充。+ 表示在正数前显示 +，负数前显示 -；  （空格）表示在正数前加空格。b、d、o、x 分别是二进制、十进制、八进制、十六进制。

|数字|格式|输出|描述|
| ---- | ---- | ---- | ---- |
|3.1415926 |{:.2f} |3.14|保留小数点后两位|
|3.1415926|{:+.2f}|+3.14|带符号保留小数点后两位|
|-1 |{:+.2f} |-1.00|带符号保留小数点后两位|
|2.71828|{:.0f} |3|不带小数|
|5|{:0>2d} |05|数字补零 (填充左边, 宽度为2)|
|5|{:x<4d}|5xxx|数字补x (填充右边, 宽度为4)|
|10|{:x<4d} |10xx|数字补x (填充右边, 宽度为4)|
|1000000|{:,}|1,000,000|以逗号分隔的数字格式|
|0.25|{:.2%} |25.00%|百分比格式|
|1000000000| {:.2e}| 1.00e+09|指数记法|
|13|{:>10d}| 13|右对齐 (默认, 宽度为10)|
|13|{:<10d} |13|左对齐 (宽度为10)|
|13|{:^10d} |13|中间对齐 (宽度为10)|
 

## 3.分支和循环结构
### if结构
语句举例如下：
"""
x = float(input('x = '))
if x > 1:
    y = 3 * x - 5
elif x >= -1:
    y = x + 2
else:
    y = 5 * x + 3
print(f'f({x}) = {y}')
```
### for-in循环
语句举例如下：
"""
total = 0
for x in range(1, 101):
    total += x
print(total)
```
range是一个比较常用的函数，应用举例如下：
- `range(101)`：可以用来产生0到100范围的整数，需要注意的是取不到101。
- `range(1, 101)`：可以用来产生1到100范围的整数，相当于前面是闭区间后面是开区间。
- `range(1, 101, 2)`：可以用来产生1到100的奇数，其中2是步长，即每次数值递增的值。
- `range(100, 0, -2)`：可以用来产生100到1的偶数，其中-2是步长，即每次数字递减的值。
### while循环
`while`循环通过一个能够产生或转换出`bool`值的表达式来控制循环，表达式的值为`True`则继续循环；表达式的值为`False`则结束循环。故while循环特别适合构造不知道具体循环次数的循环结构。
```
while True:
    counter += 1
    number = int(input('type any number'))
    answer = 10
    if number < answer:
        print('bigger')
    elif number > answer:
        print('smaller')
    else:
        print('bingo!')
        break
print(f'you've guessed {counter} times!')
```
使用`while True`构造了一个条件恒成立的循环，也就意味着如果不做特殊处理，循环是不会结束的，这也就是常说的“死循环”。一般来说可以用：
```
apple = True
while apple:
```
之后再
```
apple = False
```
来结束循环。亦可使用了`break`提前结束循环。但`break`只能终止它所在的那个循环，在使用嵌套循环结构时需注意。另一个是`continue`，它可以用来放弃本次循环后续的代码直接让循环进入下一轮。

循环的例子可以看example 2

## 4.字符串
### 转义字符和原始字符串

在字符串中使用`\`（反斜杠）来表示转义，例如：`\n`不是代表反斜杠和字符`n`，而是表示换行；`\t`也不是代表反斜杠和字符`t`，而是表示制表符。所以如果字符串本身又包含了`'`、`"`、`\`这些特殊的字符，必须要通过`\`进行转义处理。例如要输出一个带单引号或反斜杠的字符串：

```Python
s1 = '\'apple!\''
print(s1)
s2 = '\\apple!\\'
print(s2)
```
Python中的字符串可以`r`或`R`开头，这种字符串被称为原始字符串，意思是字符串中的每个字符都是它本来的含义，此时转义字符无效。
### 字符串的运算
可以使用`+`运算符来实现字符串的拼接

可以使用`*`运算符来重复一个字符串的内容

可以使用`in`和`not in`来判断一个字符串是否包含另外一个字符串，`in`和`not in`运算通常称为成员运算，会产生布尔值`True`或`False`

可以用`[]`和`[:]`运算符从字符串取出某个字符或某些字符，运算符是`[n]`，其中`n`是一个整数，假设字符串的长度为`N`，那么`n`可以是从`0`到`N-1`的整数，也可以是从`-1`到`-N`的整数

取出多个字符，运算符是`[i:j:k]`，其中`i`是开始索引，索引对应的字符可以取到；`j`是结束索引，索引对应的字符不能取到；`k`是步长，默认值为`1`，表示从前向后获取相邻字符的连续切片，所以`:k`部分可以省略。假设字符串的长度为`N`，当`k > 0`时表示正向切片（从前向后获取字符），如果没有给出`i`和`j`的值，则`i`的默认值是`0`，`j`的默认值是`N`；当`k < 0`时表示负向切片（从后向前获取字符），如果没有给出`i`和`j`的值，则`i`的默认值是`-1`，j的默认值是`-N - 1`。

```Python
s = 'abc123456'

# i=2, j=5, k=1的正向切片操作
print(s[2:5])       # c12

# i=-7, j=-4, k=1的正向切片操作
print(s[-7:-4])     # c12

# i=2, j=9, k=1的正向切片操作
print(s[2:])        # c123456

# i=-7, j=9, k=1的正向切片操作
print(s[-7:])       # c123456

# i=2, j=9, k=2的正向切片操作
print(s[2::2])      # c246

# i=-7, j=9, k=2的正向切片操作
print(s[-7::2])     # c246

# i=0, j=9, k=2的正向切片操作
print(s[::2])       # ac246

# i=1, j=-1, k=2的正向切片操作
print(s[1:-1:2])    # b135

# i=7, j=1, k=-1的负向切片操作
print(s[7:1:-1])    # 54321c

# i=-2, j=-8, k=-1的负向切片操作
print(s[-2:-8:-1])  # 54321c

# i=7, j=-10, k=-1的负向切片操作
print(s[7::-1])     # 54321cba

# i=-1, j=1, k=-1的负向切片操作
print(s[:1:-1])     # 654321c

# i=0, j=9, k=1的正向切片
print(s[:])         # abc123456

# i=0, j=9, k=2的正向切片
print(s[::2])       # ac246

# i=-1, j=-10, k=-1的负向切片
print(s[::-1])      # 654321cba

# i=-1, j=-10, k=-2的负向切片
print(s[::-2])      # 642ca
```

获取字符串长度使用内置函数`len`，这在写带有输入的循环的时候经常用到

### 查找操作

如果想在一个字符串中从前向后查找有没有另外一个字符串，可以使用字符串的`find`或`index`方法。

```Python
s = 'hello, world!'

# find方法从字符串中查找另一个字符串所在的位置
# 找到了返回字符串中另一个字符串首字符的索引
print(s.find('or'))        # 8
# 找不到返回-1
print(s.find('shit'))      # -1
# index方法与find方法类似
# 找到了返回字符串中另一个字符串首字符的索引
print(s.index('or'))       # 8
# 找不到引发异常
print(s.index('shit'))     # ValueError: substring not found
````
find`和`index`方法还有逆向查找（从后向前查找）的版本，分别是`rfind`和`rindex`。
### 格式处理

可以通过`center`、`ljust`、`rjust`方法做居中、左对齐和右对齐的处理。

```Python
s = 'hello, world'

# center方法以宽度20将字符串居中并在两侧填充*
print(s.center(20, '*'))  # ****hello, world****
# rjust方法以宽度20将字符串右对齐并在左侧填充空格
print(s.rjust(20))        #         hello, world
# ljust方法以宽度20将字符串左对齐并在右侧填充~
print(s.ljust(20, '~'))   # hello, world~~~~~~~~
```

### 修剪

字符串的`strip`方法可以帮我们获得将原字符串修剪掉左右两端空格之后的字符串。这个方法非常有实用价值，通常用来将用户输入中因为不小心键入的头尾空格去掉，`strip`方法还有`lstrip`和`rstrip`


## 5.元组、列表和字典
### 列表
在Python中，可以使用`[]`字面量语法来定义列表，列表中的多个元素用逗号进行分隔；还可以通过Python内置的`list`函数将其他序列变成列表

列表的运算和字符串类似
```Python
items1 = [35, 12, 99, 68, 55, 87]
items2 = [45, 8, 29]

# 列表的拼接
items3 = items1 + items2
print(items3)    # [35, 12, 99, 68, 55, 87, 45, 8, 29]

# 列表的重复
items4 = ['hello'] * 3
print(items4)    # ['hello', 'hello', 'hello']

# 列表的成员运算
print(100 in items3)        # False
print('hello' in items4)    # True

# 获取列表的长度(元素个数)
size = len(items3)
print(size)                 # 9

# 列表的索引
print(items3[0], items3[-size])        # 35 35
items3[-1] = 100
print(items3[size - 1], items3[-1])    # 100 100

# 列表的切片
print(items3[:5])          # [35, 12, 99, 68, 55]
print(items3[4:])          # [55, 87, 45, 8, 100]
print(items3[-5:-7:-1])    # [55, 68]
print(items3[::-2])        # [100, 45, 55, 99, 35]
```
#### 列表元素的遍历

```Python
items = ['a', 'b', 'c', 'd']

for index in range(len(items)):
    print(items[index])
```
#### 添加和删除元素
添加元素
```Python
items = ['a', 'b', 'c', 'd']
# 使用append方法在列表尾部添加
items.append('a')
# 使用insert方法在列表指定索引位置插入元素
items.insert(2, 'c')
```
删除元素
```Python
items = ['a', 'b', 'c', 'd']
# 删除指定的元素
items.remove('a')
# 删除指定索引位置的元素,pop会返回删除的元素
items.pop(len(items) - 1)
# 清空列表中的元素
items.clear()
```
#### 元素排序和反转

列表的`sort`操作可以实现列表元素的排序，而`reverse`操作可以实现元素顺序的反转


#### 创建列表

推荐使用通过生成式创建列表

```Python
# 创建一个由1到9的数字构成的列表
items1 = [x for x in range(1, 10)]
print(items1)    # [1, 2, 3, 4, 5, 6, 7, 8, 9]

# 创建一个由'hello world'中除空格和元音字母外的字符构成的列表
items2 = [x for x in 'hello world' if x not in ' aeiou']
print(items2)    # ['h', 'l', 'l', 'w', 'r', 'l', 'd']

# 创建一个由个两个字符串中字符的笛卡尔积构成的列表
items3 = [x + y for x in 'ABC' for y in '12']
print(items3)    # ['A1', 'A2', 'B1', 'B2', 'C1', 'C2']
```

不能用`[[0] * 3] * 5]`这种方式来创建嵌套列表，应当用生成式来，如：
```Python
scores = [[0] * 3 for _ in range(5)]
scores[0][0] = 95
print(scores)    # [[95, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]
```
### 元组
元组的要点是函数返回多个值的时候的拆分，先从原理讲起。

定义元组通常使用`()`字面量语法，如：
```Python
# 定义一个三元组
t1 = (30, 10, 55)
```
`()`表示空元组，但是如果元组中只有一个元素，需要加上一个逗号，否则`()`就不是代表元组的字面量语法，而是改变运算优先级的圆括号，所以`('hello', )`和`(100, )`才是一元组，而`('hello')`和`(100)`只是字符串和整数。

#### 打包和解包操作。

当我们把多个用逗号分隔的值赋给一个变量时，多个值会打包成一个元组类型；当我们把一个元组赋值给多个变量时，元组会解包成多个值然后分别赋给对应的变量，如下面的代码所示。

```Python
# 打包
a = 1, 10, 100
print(type(a), a)    # <class 'tuple'> (1, 10, 100)
# 解包
i, j, k = a
print(i, j, k)       # 1 10 100
```
如果变量数量对不上，就会报错。有一种解决变量个数少于元素的个数方法，就是使用星号表达式（但只能出现一次），用星号表达式修饰的变量会变成一个列表，列表中有0个或多个元素
```Python
a = 1, 10, 100, 1000
i, j, *k = a
print(i, j, k)          # 1 10 [100, 1000]
i, *j, k = a
print(i, j, k)          # 1 [10, 100] 1000
*i, j, k = a
print(i, j, k)          # [1, 10] 100 1000
*i, j = a
print(i, j)             # [1, 10, 100] 1000
i, *j = a
print(i, j)             # 1 [10, 100, 1000]
i, j, k, *l = a
print(i, j, k, l)       # 1 10 100 [1000]
i, j, k, l, *m = a
print(i, j, k, l, m)    # 1 10 100 1000 []
```
**解包语法对字符串、列表等一样成立**

#### 函数返回值的解包
```Python
def comp(items):
    max_one, min_one = items[0], items[0]
    for item in items:
        if item > max_one:
            max_one = item
        elif item < min_one:
            min_one = item
    return max_one, min_one
```
之后，可以把两个返回值分别解包
```Python
numbers = [1,2,3,4,5,6]
a, b = comp(numbers)
```
### 字典
因为集合有去重特性，所以大多数时候要用到字典

在Python中创建字典可以使用`{}`字面量语法，`{}`中的元素是以键值对的形式存在的，每个元素由`:`分隔的两个值构成，`:`前面是键，`:`后面是值，和JSON类似

想知道字典中一共有多少组键值对，仍然是使用`len`函数；如果想对字典进行遍历，可以用`for`循环，但是需要注意，`for`循环只是对字典的键进行了遍历

**字典中的键必须是不可变类型**，例如整数（`int`）、浮点数（`float`）、字符串（`str`）、元组（`tuple`）等类型的值

#### 字典的运算
```Python
person = {'name': 'bill', 'age': 55, 'weight': 60, 'office': 'No.10'}
# 检查键在字典中
print('name' in person, 'tel' in person)    # True False
# 通过修改值
if 'age' in person:
    person['age'] = 20
# 通过索引操作存入新的键值对
person['tel'] = '1314'
person['signature'] = '喵喵喵'
print('name' in person, 'tel' in person)    # True True
# 检查person字典中键值对的数量
print(len(person))    # 6
# 对字典的键进行循环并通索引运算获取键对应的值
for key in person:
    print(f'{key}: {person[key]}')
# 对字典中所有的键值对进行循环遍历
for key, value in person.items():
    print(key, '--->', value)
# 使用pop方法通过键删除对应的键值对并返回该值
person1 = person.pop(name)
# 使用update更新字典元素，相同的键会用新值覆盖掉旧值，不同的键会添加到字典中
persons = {
  1001{'name': 'bill', 'age': 55, 'weight': 60, 'office': 'No.10'}
}
person2 = {
  1002{'name': 'billy', 'age': 25, 'weight': 70, 'office': 'No.30'}
}
persons.update(person2)
```
> **字典的生成式**：可以用字典的生成式语法来创建新字典。

```Python
stocks = {
    'AAPL': 191.88,
    'GOOG': 1186.96,
    'IBM': 149.24,
    'ORCL': 48.44,
    'ACN': 166.89,
    'FB': 208.09,
    'SYMC': 21.29
}
stocks2 = {key: value for key, value in stocks.items() if value > 100}
print(stocks2)
```